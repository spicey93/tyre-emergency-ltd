---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import MainContent from "../components/MainContent.astro";
import Services from "../components/Services.astro"
import Testimonials from "../components/Testimonials.astro";
import { pages } from "../data/config.json";
import allReviews from "../data/reviews.json";
import { getRandomReviews } from "../utils/reviews";

const { home } = pages;
const {
  pageTitle,
  description,
  heroHeading,
  heroSubheading,
  mainHeading,
  mainContent,
} = home;

// Get random reviews from reviews.json for the homepage
const randomReviews = getRandomReviews(allReviews.reviews, 6);
---

<BaseLayout pageTitle={pageTitle} description={description}>
  <Hero
    heading={heroHeading}
    subheading={heroSubheading}
  />
  <MainContent mainHeading={mainHeading} mainContent={mainContent} />
  <Services />
  <Testimonials customReviews={randomReviews} />
</BaseLayout>
