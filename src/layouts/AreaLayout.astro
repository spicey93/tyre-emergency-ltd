---
import BaseLayout from "./BaseLayout.astro";
import { company } from "../data/config.json";
import Hero from "../components/Hero.astro";
import MainContent from "../components/MainContent.astro";
import Testimonials from "../components/Testimonials.astro";
import { marketing } from "../data/config.json";
import allReviews from "../data/reviews.json";
import { filterReviewsForArea } from "../utils/reviews";

const { area } = Astro.props;

// Filter reviews based on area name and nearby locations
const relevantReviews = filterReviewsForArea(
  allReviews.reviews, 
  area.name, 
  area.nearby || [],
  6
);
---

<BaseLayout
  pageTitle={`Mobile Tyre Fitting in ${area.name} | ${company.name}`}
  description={`${company.name} offers fast, reliable mobile tyre fitting in ${area.name}. We come to you at home, work, or roadside. Emergency tyre repairs available 24/7. Get your quote today.`}
>
  <Hero
    heading={`Mobile Tyre Fitting in ${area.name}`}
    subheading={`Professional tyre services delivered to your location. Fast, reliable, and convenient.`}
    backgroundImage="/src/images/business/mobile-tyre-fitting.webp"
  />
  <MainContent 
    mainHeading={`Expert Mobile Tyre Services in ${area.name}`} 
    mainContent={[
      `Whether you're at home, at work, or stranded on the roadside, ${company.name} brings professional tyre services directly to you throughout ${area.name}. Our experienced technicians arrive fully equipped to handle everything from routine tyre replacements to emergency roadside assistance.`,
      
      `We understand that your time is valuable, which is why we've eliminated the hassle of visiting a traditional tyre fitting centre. Our mobile tyre fitting service means you can continue with your day while we take care of your vehicle. Simply let us know when and where, and we'll be there with the tyres you need.`,
      
      `Our comprehensive service covers all aspects of tyre care including new tyre fitting, puncture repairs, wheel balancing, and tyre pressure checks. We stock a wide range of premium brands and budget-friendly options to suit every vehicle and budget. All our work is guaranteed, and we pride ourselves on transparent pricing with no hidden fees.`
    ]}
  />
  
  <Testimonials customReviews={relevantReviews} />

</BaseLayout>